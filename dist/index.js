"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("react-icons/gr");function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=a(e);!function(e,t){void 0===t&&(t={});var a=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===a&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}('@import url("https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");.nepali-calendar-wrapper{max-width:200px;position:relative}.nepali-calendar{font-family:Poppins,sans-serif;font-style:normal;width:100%}.nepali-calendar:after{content:"\\1F4C6";cursor:pointer;display:block;filter:grayscale(100%);font-size:14px;position:absolute;right:5px;top:50%;transform:translateY(-50%)}.nepali-calendar:hover:after{filter:grayscale(0);transition:.5s}.calendar-nepali{border:1px solid #999;border-radius:4px;box-shadow:none;color:#333;font-size:14px;padding:12px;width:100%}.calendar-nepali:focus{border:1px solid #29abe2;box-shadow:0 0 1px 0 #29abe2;outline:unset}.nepali-calendar:hover{filter:grayscale(0)}.calendar-day{grid-gap:4px;border-bottom:1px solid #ccc;color:#1a1a1a;display:grid;font-size:14px;font-weight:600;grid-template-columns:repeat(7,1fr);padding:12px;place-items:center}.calendar-body{grid-gap:4px;display:grid;grid-template-columns:repeat(7,1fr);width:100%}.calendar-container{padding:12px}.calendar{background:#fff;border:1px solid #dfdfdf;border-radius:4px;box-shadow:0 0 5px 0 #dfdfdf;display:flex;flex-direction:column;justify-content:center;margin-top:4px;position:absolute;right:-10px;z-index:9999}.calendar-header{align-items:center;background:#f3f3f3bf;border-bottom:1px solid #ccc;border-radius:4px 4px 0 0;justify-content:space-between;padding:12px}.calendar-header,.date-title{display:flex;font-size:14px;font-weight:500}.date-title{align-content:center;color:#1a1a1a}.action-button{align-items:center;background:#e0e0e0;border:1px solid #bbb;border-radius:50%;color:#333;cursor:pointer;display:flex;font-size:18px;height:24px;justify-content:center;transition:all .3s ease-in-out;width:24px}.action-button:hover{background:#29abe2;border:1px solid #29abe2;color:#fff}.calendar-item{align-items:center;border:1px solid transparent;color:#1a1a1a;cursor:pointer;display:flex;font-size:14px;font-weight:500;height:32px;justify-content:center;margin:auto;width:100%;width:32px}.calendar-item.disabled{background-color:#d5cfcfdd;border-radius:5px;color:#fff;cursor:not-allowed;visibility:hidden}.calendar-item.active{border:1px solid #29abe2;border-radius:50%}.calendar-item:hover{border:1px solid #29abe2;border-radius:50%;height:32px;width:32px}.calendar-item-current{background:#01579b;border-radius:50%;box-shadow:1px 1px 10px rgba(72,72,72,.915);color:#fff;height:32px;width:32px}');exports.NepDatePicker=({domain:a="https://kavre.nivid.app",onDateSelect:r,selectToday:d,reset:i,dateToken:l})=>{const[o,c]=e.useState(!1),[s,p]=e.useState(null),[u,f]=e.useState(null),[m,h]=e.useState(null),[x,b]=e.useState(null),[g,y]=e.useState("YYYY-MM-DD"),v=(new Date).getFullYear(),w=(new Date).getMonth()+1,E=(new Date).getDate();function M(e,t,a){y(`${e}-${t}-${a}`)}e.useEffect((()=>{(async(e,t)=>{try{const e=await fetch(`${a}/dashboard/getMonthCalendarApi${m&&x?`?year=${m}&month=${x}`:""} `),t=await e.json();p(t)}catch(e){}})()}),[m,x]),e.useEffect((()=>{if(!0===d&&null!==s){const e=s.monthdata.find((e=>e.englishYear==v&&e.englishMonth==w&&e.englishDate==E));r(e.dayid),M(e.year,e.nepaliMonth,e.gate),f(e.dayid)}if(l&&null!==s){const e=s.monthdata.find((e=>e.dayid==l));void 0!==e&&(M(e.year,e.nepaliMonth,e.gate),f(e.dayid),r&&r(e.dayid))}}),[s,l]),e.useEffect((()=>{y("YYYY-MM-DD"),r&&r(""),f(null)}),[i]);const k=e.useRef(null);return e.useEffect((()=>{function e(e){k.current&&!k.current.contains(e.target)&&c(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[k]),n.default.createElement("div",{className:"nepali-calendar-wrapper",ref:k},n.default.createElement("div",{onClick:()=>c(!o),className:"nepali-calendar"},n.default.createElement("input",{readOnly:!0,className:"calendar-nepali",value:g})),n.default.createElement("div",null,s&&o&&n.default.createElement("div",{className:"calendar"},n.default.createElement("div",{className:"calendar-header"},n.default.createElement("div",{onClick:()=>{var e,t;e=s.prevYear,t=s.prevMonth,e&&t&&(h(e),b(t))},className:"action-button"},n.default.createElement(t.GrFormPrevious,null)),n.default.createElement("div",{className:"date-tittle"},`${s.curYear} ${{1:"बैशाख",2:"जेठ",3:"असार",4:"साउन",5:"भदौ",6:"असोज",7:"कार्तिक",8:"मंसिर",9:"पुष",10:"माघ",11:"फागुन",12:"चैत"}[s.curMonth]}`),n.default.createElement("div",{onClick:()=>{return e=s.nextYear,t=s.nextMonth,void(e&&t&&(h(e),b(t)));var e,t},className:"action-button"},n.default.createElement(t.GrFormNext,null))),n.default.createElement("div",{className:"calendar-day"},["Sun","Mon","Tue","Wed","Thur","Fri","Sat"].map(((e,t)=>n.default.createElement("span",{key:t},e)))),n.default.createElement("div",{className:"calendar-container"},n.default.createElement("div",{className:"calendar-body"},s.monthdata.map(((e,t)=>{const a=e.dayid===u,d=e.englishMonth==w&&e.englishDate==E;return n.default.createElement("div",{key:t,style:{color:e.eventColour},onClick:()=>{f(e.dayid),M(e.year,e.nepaliMonth,e.gate),r&&r(e.dayid),c(!1)},className:`calendar-item ${e.active?"":"disabled"} ${a?"active":""} ${d?"calendar-item-current":""}`},e.gate)})))))))};

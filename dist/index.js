"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),a=require("react-icons/gr");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=t(e);!function(e,a){void 0===a&&(a={});var t=a.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===t&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}}('@import url("https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");.nepali-calendar-wrapper{max-width:200px;position:relative}.nepali-calendar{font-family:Poppins,sans-serif;font-style:normal;width:100%}.nepali-calendar:after{content:"\\1F4C6";cursor:pointer;display:block;filter:grayscale(100%);font-size:14px;position:absolute;right:5px;top:50%;transform:translateY(-50%)}.nepali-calendar:hover:after{filter:grayscale(0);transition:.5s}.calendar-nepali{border:1px solid #999;border-radius:4px;box-shadow:none;color:#333;font-size:14px;padding:12px;width:100%}.calendar-nepali:focus{border:1px solid #29abe2;box-shadow:0 0 1px 0 #29abe2;outline:unset}.nepali-calendar:hover{filter:grayscale(0)}.calendar-day{grid-gap:4px;border-bottom:1px solid #ccc;color:#1a1a1a;display:grid;font-size:14px;font-weight:600;grid-template-columns:repeat(7,1fr);padding:12px;place-items:center}.calendar-body{grid-gap:4px;display:grid;grid-template-columns:repeat(7,1fr);width:100%}.calendar-container{padding:12px}.calendar{background:#fff;border:1px solid #dfdfdf;border-radius:4px;box-shadow:0 0 5px 0 #dfdfdf;display:flex;flex-direction:column;justify-content:center;margin-top:4px;position:absolute;right:-10px;z-index:9999}.calendar-header{align-items:center;background:#f3f3f3bf;border-bottom:1px solid #ccc;border-radius:4px 4px 0 0;justify-content:space-between;padding:12px}.calendar-header,.date-title{display:flex;font-size:14px;font-weight:500}.date-title{align-content:center;color:#1a1a1a}.action-button{align-items:center;background:#e0e0e0;border:1px solid #bbb;border-radius:50%;color:#333;cursor:pointer;display:flex;font-size:18px;height:24px;justify-content:center;transition:all .3s ease-in-out;width:24px}.action-button:hover{background:#29abe2;border:1px solid #29abe2;color:#fff}.calendar-item{align-items:center;border:1px solid transparent;color:#1a1a1a;cursor:pointer;display:flex;font-size:14px;font-weight:500;height:32px;justify-content:center;margin:auto;width:100%;width:32px}.calendar-item.disabled{background-color:#d5cfcfdd;border-radius:5px;color:#fff;cursor:not-allowed;visibility:hidden}.calendar-item.active{border:1px solid #29abe2;border-radius:50%}.calendar-item:hover{border:1px solid #29abe2;border-radius:50%;height:32px;width:32px}.calendar-item-current{background:#01579b;border-radius:50%;box-shadow:1px 1px 10px rgba(72,72,72,.915);color:#fff;height:32px;width:32px}');exports.NepDatePicker=({domain:t="https://kavre.nivid.app",onDateSelect:n,selectToday:l,reset:d})=>{const[i,o]=e.useState(!1),[c,s]=e.useState(null),[p,u]=e.useState(null),[f,m]=e.useState(null),[h,x]=e.useState(null),[b,g]=e.useState("YYY-MM-DD"),y=(new Date).getFullYear(),v=(new Date).getMonth()+1,w=(new Date).getDate();function E(e,a,t){g(`${e}-${a}-${t}`)}console.log("todayMOnth",v,"todayDate",w);return e.useEffect((()=>{(async(e,a)=>{try{const e=await fetch(`${t}/dashboard/getMonthCalendarApi${f&&h?`?year=${f}&month=${h}`:""} `),a=await e.json();s(a)}catch(e){console.log("cannot fetch",e)}})()}),[f,h]),e.useEffect((()=>{if(!0===l&&null!==c){const e=c.monthdata.find((e=>e.englishYear==y&&e.englishMonth==v&&e.englishDate==w));n(e.dayid),E(e.year,e.nepaliMonth,e.gate),u(e.dayid)}}),[c]),e.useEffect((()=>{g("YYY-MM-DD"),n&&n(""),u(null)}),[d]),r.default.createElement("div",{className:"nepali-calendar-wrapper"},r.default.createElement("div",{onClick:()=>o(!i),className:"nepali-calendar"},r.default.createElement("input",{className:"calendar-nepali",value:b})),r.default.createElement("div",null,c&&i&&r.default.createElement("div",{className:"calendar"},r.default.createElement("div",{className:"calendar-header"},r.default.createElement("div",{onClick:()=>{var e,a;e=c.prevYear,a=c.prevMonth,e&&a&&(m(e),x(a))},className:"action-button"},r.default.createElement(a.GrFormPrevious,null)),r.default.createElement("div",{className:"date-tittle"},`${c.curYear} ${{1:"बैशाख",2:"जेठ",3:"असार",4:"साउन",5:"भदौ",6:"असोज",7:"कार्तिक",8:"मंसिर",9:"पुष",10:"माघ",11:"फागुन",12:"चैत"}[c.curMonth]}`),r.default.createElement("div",{onClick:()=>{return e=c.nextYear,a=c.nextMonth,void(e&&a&&(m(e),x(a)));var e,a},className:"action-button"},r.default.createElement(a.GrFormNext,null))),r.default.createElement("div",{className:"calendar-day"},["Sun","Mon","Tue","Wed","Thur","Fri","Sat"].map(((e,a)=>r.default.createElement("span",{key:a},e)))),r.default.createElement("div",{className:"calendar-container"},r.default.createElement("div",{className:"calendar-body"},c.monthdata.map(((e,a)=>{const t=e.dayid===p,l=e.englishMonth==v&&e.englishDate==w;return r.default.createElement("div",{key:a,style:{color:e.eventColour},onClick:()=>{u(e.dayid),E(e.year,e.nepaliMonth,e.gate),n&&n(e.dayid),o(!1)},className:`calendar-item ${e.active?"":"disabled"} ${t?"active":""} ${l?"calendar-item-current":""}`},e.gate)})))))))};
